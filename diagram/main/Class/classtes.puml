@startuml Nogain
!theme materia-outline

class Person {
  - id : id
  -name : string
  -phone : string
  -cni : string
  -nif : string
  -email : string
  -birthDay: data
  -password : string
  -role : role
  -created_at: datetime
  -updated_at: datetime

  +login()
  +logOut()
  +getPersonInfoById()
  +updatePhoneNumber()



}


class Client {



  +payMonthlyFee()
  +selectTrainningPlan()
  +selectPersonalTrainer()
  +selectDiscount()
}


class PersonalTrainer {

  +updatePersonalTrainerInfo()

}


class Manager {

  +registerPersonalTrainer()
  +registerClient()
  +registerEmployee()
  +updateManagerEmail()
}


class Employee {

  +viewClientList()
  +viewPersonalTrainerList()
  +viewDiscountList()



}



class discount {
  id: id
  name: string
  description: string
  amount: float
  created_at: datetime
  updated_at: datetime
}

class TrainingPlan {
  id: id
  name: string
  description: string
  amount: float
  created_at: datetime
  updated_at: datetime
}


class clientPersonalTrainingDiscountTrainingPlan {
  id: id
  client_id: id
  personal_trainer_id: id
  discount_id: id
  training_plan_id: id
  created_at: datetime
  updated_at: datetime
}

class clientHistory {
  id: id
  custumoer_id: id
  person_id: id
  total: float
  created_at: datetime
}


' enum Role {
'   MANAGER
'   EMPLOYEE
'   CUSTOMER
' }

' Person --- Role


Person "1" o-- "1...*" Client
Person "1" o-- "1...*" PersonalTrainer
Person "1" <|-- "1" Manager
Person "1" o-- "1...*" Employee

' clientHistory <|-- Client
' clientHistory <|-- Person

' clientPersonalTrainingDiscountTrainingPlan <|-- Person
' clientPersonalTrainingDiscountTrainingPlan <|-- PersonalTrainer
' clientPersonalTrainingDiscountTrainingPlan <|-- discount
' clientPersonalTrainingDiscountTrainingPlan <|-- TrainingPlan

@enduml